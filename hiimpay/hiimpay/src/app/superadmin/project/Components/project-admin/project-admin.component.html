<div class="container">
  <div class="row mt-2 px-4">
    <div class="col-lg col-md col-sm-12">
      <div class="d-flex align-items-center justify-content-between">
        
        <h3 style="margin: 0; color: #103a7f; font-weight: bolder">
          Manage users
        </h3>

        <span
          class="blue-color font-weight-bold"
          style="font-weight: 700; max-width: 500px; text-wrap: wrap;">
          Company name : TCS
        </span>

      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row px-4 py-4">
    <div class="col-lg-12 col-md col-sm-12">
        <div class="row mb-2">
          <div class="d-flex align-items-center justify-content-between">
            <h3 style="margin: 0; font-weight: 900" class="blue-color">
              <!-- Manage users -->
            </h3>
            <!-- <div class="d-flex align-items-end justify-content-end"> -->
            <div class="btn-group" role="group" aria-label="Basic example">
              <button class="btn button-color text-white addHoliday ms-2" type="button" style="height: 3em"
                (click)="holidayFile.click()">
                <span *ngIf="checkuploadExcelSpinner" class="spinner-border spinner-border-sm" role="status"
                  aria-hidden="true"></span>
                <i class="fa fa-file"></i>
                Import users from excel
              </button>
              <p></p>
              <input type="file" #holidayFile (change)="onFileBrowse($event)" style="display: none;">
              <ng-container>

                <!-- <button *ngIf="isSelectedFileValid" class="btn button-color text-white addHoliday ms-3" type="button"
                  style="height: 3em" (click)="uploadFile()">
                  <i class="fa-solid fa fa-upload fa-xl" style="margin-inline-end: 0.5em "></i>
                  Upload selected file
                </button> -->
              </ng-container>
              <button class="btn button-color text-white addHoliday ms-2" type="button" style="height: 3em"
                (click)="downloadExcelFormat()">
                <span *ngIf="checkDownloadExcelSpinner" class="spinner-border spinner-border-sm" role="status"
                  aria-hidden="true"></span>
                <i class="fa fa-file"></i>
                Bulk user upload template
              </button>
              <input #holidayFile style="display: none" type="file" (change)="onFileBrowse($event)"
                accept=".xls,.xlsx" />
              <button class="btn background-color ms-2 rounded-0" type="button" (click)="openPopup()"
                style="height: 3em">
                <img src="assets/plus.svg" class="me-2" height="18" alt="" />
                <span class="filter-text">Create user</span>
              </button>
            </div>
            <!-- </div> -->


          </div>
        </div>

        <section *ngIf="!isLoading" class="mt-3">
          <div class="row table-row row-head gx-0">
            <!-- <div class="col"></div> -->
            <div class="col">Name</div>
            <div class="col">Email</div>
            <div class="col">Status</div>
            <div class="col">Contact</div>
            <!-- <div class="col">Record owner</div> -->
            <div class="col">Action</div>
          </div>
          <div class="tableCointainer" style="height: 100%; padding-bottom: 5%;" *ngIf="details?.length > 0">
            <div class="row gx-0 table-row row-body px-0"
              *ngFor="let data of details | paginate: { itemsPerPage: itemPerPage, currentPage: page, totalItems: totalItems }">
              <div class="col d-flex align-items-center">
                <!-- <img src="../../../../../assets/boy.jpg" alt="" style="width: 48px; height: 48px"
                  class="rounded-circle"/> -->
                <div class="col ms-1" style="overflow: hidden">
                  <p class="fw-bold mb-1">{{ data.name }}</p>
                  <!-- <p class="text-muted mb-0">{{data.email}}</p> -->
                </div>
              </div>
              <div class="col">
                <p class="fw-normal mb-1">{{data.email}}</p>
              </div>
              <div class="col">
                <!-- <p class="badge rounded-pill" style="background-color: #069de0">
                  Active
                </p> -->
                <span *ngIf="data.verified==true" class="badge rounded-pill d-inline"
                  style="background-color: green;">Active</span>
                <span *ngIf="data.verified==false" class="badge rounded-pill d-inline"
                  style="background-color:  red;">Inactive</span>
              </div>

              <div class="col">
                <p class="text-muted mb-0">{{data.contactNumber}}</p>
              </div>
              <!-- <div class="col">
                <p>
                  {{data?.loggedUserName || '-'}}
                </p>
              </div> -->
              <div class="col">
                <div class="col">
                  <button class="border-0 m-2" style="font-size: 20px" (click)="editUser(data.id)">
                    <i class="fa fa-pencil" style="color: #103a7f"></i>
                  </button>
                  <mat-slide-toggle class="green-toggle" [checked]="data?.verified" (change)="activeDeactiveUser(data)"></mat-slide-toggle>
                  <!-- <button class="border-0 m-2" style="font-size: 20px" (click)="deleteUser(data)">
                    <i class="fa fa-trash" style="color: #103a7f"></i>
                  </button> -->
                </div>
              </div>
            </div>
            <div class="text-end my-4" style="font-weight: 300 !important; font-size: 13px">
              <pagination-controls (pageChange)="pageChangeEvent($event)" [maxSize]="5"></pagination-controls>
            </div>
          </div>
          <div class="tableContainer" *ngIf="details.length == 0">
            <span class="unavailability">No data found</span>
          </div>
        </section>
        <div class="text-center my-5">
          <i *ngIf="isLoading" class="fa fa-spinner fa-spin" style="font-size:64px;color: #103a7f;"></i>
        </div>

        <!-- <button  disabled class="btn btn-primary w-100">Please Wait. . .</button> -->
    </div>
    <!-- <div class="col-lg-2 col-md col-sm-12"> -->
    <!-- <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col col-lg col-xl">
          <div class="card">
            <div class="rounded-top text-white d-flex flex-row" style="background-color: #103a7f; height:200px;">
              <div class="ms-4 mt-5 d-flex flex-column" style="width: 150px;">
                <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-profiles/avatar-1.webp"
                  alt="Generic placeholder image" class="img-fluid img-thumbnail mt-4 mb-2"
                  style="width: 150px; z-index: 1">
            
              </div>
              <div class="ms-3" style="margin-top: 130px;">
                <h5>{{info?.firstName}} {{info?.lastName}}</h5>
                <p>{{info?.email}}</p>
              </div>
            </div>
            <div class="p-4 text-black" style="background-color: #f8f9fa;">
              <div class="d-flex justify-content-end text-center py-1">

                <div class="px-3">
                  <p class="mb-1 h5">1026</p>
                  <p class="small text-muted mb-0">Assign Survey</p>
                </div>
                <div>
                  <p class="mb-1 h5">478</p>
                  <p class="small text-muted mb-0">Responce</p>
                </div>
              </div>
            </div>
        
          </div>
        </div>
      </div> -->

    <!-- </div> -->
  </div>
</div>
