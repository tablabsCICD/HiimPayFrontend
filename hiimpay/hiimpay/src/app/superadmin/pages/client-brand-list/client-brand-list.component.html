<div class="client-brand-root py-4 px-4">
  <div class="page-header">
    <div>
      <h2>Client Brand List</h2>
      <div class="subtitle">View brands by client and open coupon dashboard</div>
    </div>
  </div>

  <div class="filters">
    <input class="search" type="text" placeholder="Search client, brand or code" [(ngModel)]="q" (input)="applyFilters()">
    <select class="client-select" [(ngModel)]="selectedClient" (ngModelChange)="applyFilters()">
      <option *ngFor="let option of clientOptions" [value]="option">
        {{ option === 'ALL' ? 'All Clients' : option }}
      </option>
    </select>
    <label class="in-stock">
      <input type="checkbox" [(ngModel)]="inStockOnly" (change)="applyFilters()">
      In Stock Only
    </label>
  </div>

  <div class="table-wrap">
    <table class="client-brand-table">
      <thead>
        <tr>
          <th>Client Name</th>
          <th>Brand Name</th>
          <th>Value Range</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr class="clickable" *ngFor="let item of filtered" (click)="openCoupons(item)">
          <td>{{ item.clientName }}</td>
          <td>{{ item.brandName }}</td>
          <td>Rs {{ item.epayMinValue }} - Rs {{ item.epayMaxValue }}</td>
          <td>{{ item.stockAvailable ? 'In Stock' : 'Out of Stock' }}</td>
          <td>
            <button
              mat-stroked-button
              color="primary"
              (click)="openBrandCategoryCoupons(item, $event)"
            >
              View
            </button>
          </td>
        </tr>
        <tr *ngIf="filtered.length === 0">
          <td colspan="5" class="empty">No brands found</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
